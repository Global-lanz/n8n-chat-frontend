<div class="users-list">
  <h3>UsuÃ¡rios Cadastrados</h3>
  
  @if (loading) {
    <p class="no-users">Carregando...</p>
  } @else if (!users || users.length === 0) {
    <p class="no-users">Nenhum usuÃ¡rio cadastrado</p>
  } @else {
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>UsuÃ¡rio</th>
            <th>Email</th>
            <th>Admin</th>
            <th>Status</th>
            <th>LicenÃ§a Expira</th>
            <th>Criado Em</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody>
          @for (user of users; track user.id) {
            <tr [class.disabled-user]="!user.isActive">
              <td>{{ user.id }}</td>
              <td>{{ user.username }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.isAdmin ? 'âœ…' : 'âŒ' }}</td>
              <td [title]="user.isActive ? 'Ativo' : 'Desabilitado'">
                {{ user.isActive ? 'âœ…' : 'ğŸ”´' }}
              </td>
              <td [class.expired]="isExpired(user.licenseExpiresAt)">
                {{ formatLicenseExpires(user.licenseExpiresAt) }}
              </td>
              <td>{{ formatDate(user.createdAt) }}</td>
              <td class="actions">
                <button 
                  (click)="edit.emit(user)" 
                  class="btn-edit" 
                  title="Editar"
                >âœï¸</button>
                <button 
                  (click)="delete.emit(user)" 
                  class="btn-delete" 
                  title="Deletar"
                >ğŸ—‘ï¸</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
