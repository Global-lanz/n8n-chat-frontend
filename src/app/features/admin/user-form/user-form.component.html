<div class="user-form">
  <h3>{{ editingUser ? 'Editar Usu√°rio' : 'Criar Novo Usu√°rio' }}</h3>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Nome de Usu√°rio:</label>
      <input 
        type="text" 
        formControlName="username" 
        required
        [class.error]="isFieldInvalid('username')">
      @if (hasError('username', 'required')) {
        <span class="error-message">Nome de usu√°rio √© obrigat√≥rio</span>
      }
    </div>
    
    <div class="form-group">
      <label>Email:</label>
      <input 
        type="email" 
        formControlName="email" 
        required
        [class.error]="isFieldInvalid('email')">
      @if (hasError('email', 'required')) {
        <span class="error-message">Email √© obrigat√≥rio</span>
      }
      @if (hasError('email', 'email')) {
        <span class="error-message">Email inv√°lido</span>
      }
    </div>
    
    <div class="form-group">
      <label>Senha:</label>
      <input 
        type="password" 
        formControlName="password" 
        [required]="!editingUser"
        [class.error]="isFieldInvalid('password')">
      @if (hasError('password', 'required')) {
        <span class="error-message">Senha √© obrigat√≥ria</span>
      }
      @if (editingUser) {
        <small class="field-hint">Deixe em branco para manter a senha atual</small>
      } @else {
        <small class="field-hint">M√≠nimo de 6 caracteres</small>
      }
    </div>
    
    <div class="form-group">
      <label>Data de Expira√ß√£o da Licen√ßa:</label>
      <input type="datetime-local" formControlName="licenseExpiresAt">
    </div>
    
    <div class="form-group">
      <label>
        <input type="checkbox" formControlName="isAdmin">
        Administrador
      </label>
    </div>
    
    <div class="form-group">
      <label>
        <input type="checkbox" formControlName="isActive">
        Usu√°rio Ativo
      </label>
    </div>
    
    <div class="form-actions">
      <button type="submit" class="btn-primary">üíæ Salvar</button>
      <button type="button" class="btn-secondary" (click)="cancel.emit()">‚ùå Cancelar</button>
    </div>
  </form>
</div>
