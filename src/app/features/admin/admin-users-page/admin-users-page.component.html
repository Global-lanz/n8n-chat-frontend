<div class="admin-users-container">
  <div class="admin-header">
    <div>
      <h1>üë• Gerenciamento de Usu√°rios</h1>
      <p class="subtitle">Crie, edite e gerencie usu√°rios do sistema</p>
    </div>
    <button class="btn-primary" (click)="onShowCreateForm()">
      ‚ûï Criar Novo Usu√°rio
    </button>
  </div>

  <!-- Filtro de Busca -->
  <div class="filter-section">
    <div class="filter-container">
      <input 
        type="text" 
        [(ngModel)]="searchFilter" 
        [value]="searchFilter()"
        (ngModelChange)="searchFilter.set($event); onFilterChange()"
        placeholder="üîç Buscar por nome ou email..."
        class="filter-input"
      />
      <div class="filter-stats">
        <span>{{ filteredUsers().length }} usu√°rio(s) encontrado(s)</span>
      </div>
    </div>
  </div>

  <!-- User Form -->
  @if (showUserForm) {
    <div class="form-container">
      <app-user-form
        [editingUser]="editingUser"
        (save)="onSaveUser($event)"
        (cancel)="onCancelForm()"
      ></app-user-form>
    </div>
  }

  <!-- Users Table -->
  <div class="table-container">
    <app-users-table
      [users]="paginatedUsers()"
      [loading]="loading$ | async"
      (edit)="onEditUser($event)"
      (delete)="onDeleteUser($event)"
    ></app-users-table>
  </div>

  <!-- Pagina√ß√£o -->
  @if (totalPages() > 1) {
    <div class="pagination">
      <button 
        class="pagination-btn" 
        (click)="previousPage()" 
        [disabled]="currentPage() === 1"
      >
        ‚Üê Anterior
      </button>
      
      <div class="pagination-numbers">
        @for (page of getPageNumbers(); track page) {
          <button 
            class="pagination-number" 
            [class.active]="page === currentPage()"
            (click)="goToPage(page)"
          >
            {{ page }}
          </button>
        }
      </div>
      
      <button 
        class="pagination-btn" 
        (click)="nextPage()" 
        [disabled]="currentPage() === totalPages()"
      >
        Pr√≥ximo ‚Üí
      </button>
      
      <div class="pagination-info">
        P√°gina {{ currentPage() }} de {{ totalPages() }}
      </div>
    </div>
  }
</div>
